{% extends "tasks/base.html" %}
{% block title %}{{ title }} — TaskFlow{% endblock %}
{% block content %}

<div class="page-header">
    <h1 class="page-title">{{ title }}</h1>
</div>

<div class="form-page">
    <form method="post" class="form-card">
        {% csrf_token %}
        <div class="form-group">
            <label>Название задачи *</label>
            {{ form.title }}
        </div>
        <div class="form-group">
            <label>Описание</label>
            {{ form.description }}
        </div>
        <div class="form-row">
            <div class="form-group">
                <label>Проект *</label>
                {{ form.project }}
            </div>
            <div class="form-group">
                <label>Исполнитель</label>
                {{ form.assignee }}
            </div>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label>Статус</label>
                {{ form.status }}
            </div>
            <div class="form-group">
                <label>Приоритет</label>
                {{ form.priority }}
            </div>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label>Дата окончания</label>
                {{ form.due_date }}
            </div>
            <div class="form-group">
                <label>Теги (через запятую)</label>
                {{ form.tags }}
            </div>
        </div>
        {% if form.errors %}
        <div class="form-errors">
            {% for field in form %}{% for error in field.errors %}<p>{{ error }}</p>{% endfor %}{% endfor %}
        </div>
        {% endif %}
        <div class="form-actions">
            <button type="submit" class="btn-primary">Сохранить задачу</button>
            <a href="{% url 'project_list' %}" class="btn-ghost">Отмена</a>
        </div>
    </form>
</div>

{% endblock %}
